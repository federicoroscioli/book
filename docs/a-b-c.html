<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 A, B, C | Introduction to Data Analysis with R</title>
  <meta name="description" content="2 A, B, C | Introduction to Data Analysis with R" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="2 A, B, C | Introduction to Data Analysis with R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 A, B, C | Introduction to Data Analysis with R" />
  
  
  

<meta name="author" content="Federico Roscioli" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="installation.html"/>
<link rel="next" href="data-cleaning.html"/>
<script src="book_assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="book_assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="book_assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="book_assets/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#author"><i class="fa fa-check"></i>Author</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="part"><span><b>I The R code</b></span></li>
<li class="chapter" data-level="1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>1</b> Installation</a>
<ul>
<li class="chapter" data-level="1.1" data-path="installation.html"><a href="installation.html#introductory-activities"><i class="fa fa-check"></i><b>1.1</b> Introductory activities</a></li>
<li class="chapter" data-level="1.2" data-path="installation.html"><a href="installation.html#visualization-suggestions"><i class="fa fa-check"></i><b>1.2</b> Visualization suggestions</a></li>
<li class="chapter" data-level="1.3" data-path="installation.html"><a href="installation.html#the-workspace"><i class="fa fa-check"></i><b>1.3</b> The workspace</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="a-b-c.html"><a href="a-b-c.html"><i class="fa fa-check"></i><b>2</b> A, B, C</a>
<ul>
<li class="chapter" data-level="2.1" data-path="a-b-c.html"><a href="a-b-c.html#the-first-code"><i class="fa fa-check"></i><b>2.1</b> The first code</a></li>
<li class="chapter" data-level="2.2" data-path="a-b-c.html"><a href="a-b-c.html#indexing"><i class="fa fa-check"></i><b>2.2</b> Indexing</a></li>
<li class="chapter" data-level="2.3" data-path="a-b-c.html"><a href="a-b-c.html#the-first-function"><i class="fa fa-check"></i><b>2.3</b> The first function</a></li>
<li class="chapter" data-level="2.4" data-path="a-b-c.html"><a href="a-b-c.html#dataset-exploration"><i class="fa fa-check"></i><b>2.4</b> Dataset Exploration</a></li>
<li class="chapter" data-level="2.5" data-path="a-b-c.html"><a href="a-b-c.html#subsetting"><i class="fa fa-check"></i><b>2.5</b> Subsetting</a></li>
<li class="chapter" data-level="2.6" data-path="a-b-c.html"><a href="a-b-c.html#importing-and-exporting-data"><i class="fa fa-check"></i><b>2.6</b> Importing and exporting data</a></li>
<li class="chapter" data-level="2.7" data-path="a-b-c.html"><a href="a-b-c.html#exercises"><i class="fa fa-check"></i><b>2.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-cleaning.html"><a href="data-cleaning.html"><i class="fa fa-check"></i><b>3</b> Data Cleaning</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-cleaning.html"><a href="data-cleaning.html#variable-names"><i class="fa fa-check"></i><b>3.1</b> Variable Names</a></li>
<li class="chapter" data-level="3.2" data-path="data-cleaning.html"><a href="data-cleaning.html#variable-types"><i class="fa fa-check"></i><b>3.2</b> Variable Types</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-cleaning.html"><a href="data-cleaning.html#factor-variables"><i class="fa fa-check"></i><b>3.2.1</b> Factor variables</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-cleaning.html"><a href="data-cleaning.html#dates-and-times"><i class="fa fa-check"></i><b>3.2.2</b> Dates and times</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-cleaning.html"><a href="data-cleaning.html#row-names"><i class="fa fa-check"></i><b>3.3</b> Row Names</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="advanced-data-manipulation-and-plotting.html"><a href="advanced-data-manipulation-and-plotting.html"><i class="fa fa-check"></i><b>4</b> Advanced Data Manipulation and Plotting</a>
<ul>
<li class="chapter" data-level="4.1" data-path="advanced-data-manipulation-and-plotting.html"><a href="advanced-data-manipulation-and-plotting.html#ifelse"><i class="fa fa-check"></i><b>4.1</b> Ifelse</a></li>
<li class="chapter" data-level="4.2" data-path="advanced-data-manipulation-and-plotting.html"><a href="advanced-data-manipulation-and-plotting.html#the-apply-family"><i class="fa fa-check"></i><b>4.2</b> The Apply family</a></li>
<li class="chapter" data-level="4.3" data-path="advanced-data-manipulation-and-plotting.html"><a href="advanced-data-manipulation-and-plotting.html#dplyr"><i class="fa fa-check"></i><b>4.3</b> Dplyr</a></li>
<li class="chapter" data-level="4.4" data-path="advanced-data-manipulation-and-plotting.html"><a href="advanced-data-manipulation-and-plotting.html#merging-datasets"><i class="fa fa-check"></i><b>4.4</b> Merging datasets</a></li>
<li class="chapter" data-level="4.5" data-path="advanced-data-manipulation-and-plotting.html"><a href="advanced-data-manipulation-and-plotting.html#melting-vs-transposing"><i class="fa fa-check"></i><b>4.5</b> Melting vs Transposing</a></li>
<li class="chapter" data-level="4.6" data-path="advanced-data-manipulation-and-plotting.html"><a href="advanced-data-manipulation-and-plotting.html#ggplot2"><i class="fa fa-check"></i><b>4.6</b> Ggplot2</a></li>
<li class="chapter" data-level="4.7" data-path="advanced-data-manipulation-and-plotting.html"><a href="advanced-data-manipulation-and-plotting.html#exercises-1"><i class="fa fa-check"></i><b>4.7</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Statistical Analysis</b></span></li>
<li class="chapter" data-level="5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>5</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#central-tendency-measures"><i class="fa fa-check"></i><b>5.1</b> Central Tendency Measures</a></li>
<li class="chapter" data-level="5.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#variability-measures"><i class="fa fa-check"></i><b>5.2</b> Variability Measures</a></li>
<li class="chapter" data-level="5.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#inequality-measures"><i class="fa fa-check"></i><b>5.3</b> Inequality Measures</a></li>
<li class="chapter" data-level="5.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#data-visualization"><i class="fa fa-check"></i><b>5.4</b> Data visualization</a></li>
<li class="chapter" data-level="5.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#scaling-data"><i class="fa fa-check"></i><b>5.5</b> Scaling data</a></li>
<li class="chapter" data-level="5.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#probability-sampling"><i class="fa fa-check"></i><b>5.6</b> Probability Sampling</a></li>
<li class="chapter" data-level="5.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-2"><i class="fa fa-check"></i><b>5.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>6</b> Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="6.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#probability-distributions"><i class="fa fa-check"></i><b>6.1</b> Probability Distributions</a></li>
<li class="chapter" data-level="6.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#shapiro-wilk-test"><i class="fa fa-check"></i><b>6.2</b> Shapiro-Wilk Test</a></li>
<li class="chapter" data-level="6.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-sample-t-test"><i class="fa fa-check"></i><b>6.3</b> One-Sample T-Test</a></li>
<li class="chapter" data-level="6.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#unpaired-two-sample-t-test"><i class="fa fa-check"></i><b>6.4</b> Unpaired Two Sample T-Test</a></li>
<li class="chapter" data-level="6.5" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#mann-whitney-u-test"><i class="fa fa-check"></i><b>6.5</b> Mann Whitney U Test</a></li>
<li class="chapter" data-level="6.6" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#paired-sample-t-test"><i class="fa fa-check"></i><b>6.6</b> Paired Sample T-Test</a></li>
<li class="chapter" data-level="6.7" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#exercises-3"><i class="fa fa-check"></i><b>6.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="bivariate-analysis.html"><a href="bivariate-analysis.html"><i class="fa fa-check"></i><b>7</b> Bivariate Analysis</a>
<ul>
<li class="chapter" data-level="7.1" data-path="bivariate-analysis.html"><a href="bivariate-analysis.html#correlation"><i class="fa fa-check"></i><b>7.1</b> Correlation</a></li>
<li class="chapter" data-level="7.2" data-path="bivariate-analysis.html"><a href="bivariate-analysis.html#linear-regression"><i class="fa fa-check"></i><b>7.2</b> Linear Regression</a></li>
<li class="chapter" data-level="7.3" data-path="bivariate-analysis.html"><a href="bivariate-analysis.html#logistic-regressions"><i class="fa fa-check"></i><b>7.3</b> Logistic Regressions</a></li>
<li class="chapter" data-level="7.4" data-path="bivariate-analysis.html"><a href="bivariate-analysis.html#exercises-4"><i class="fa fa-check"></i><b>7.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html"><i class="fa fa-check"></i><b>8</b> Multivariate Analysis</a>
<ul>
<li class="chapter" data-level="8.1" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#cluster-analysis"><i class="fa fa-check"></i><b>8.1</b> Cluster Analysis</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#hierarchical-clustering"><i class="fa fa-check"></i><b>8.1.1</b> Hierarchical Clustering</a></li>
<li class="chapter" data-level="8.1.2" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#k-means-clustering"><i class="fa fa-check"></i><b>8.1.2</b> K-Means clustering</a></li>
<li class="chapter" data-level="8.1.3" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#the-silhouette-plot"><i class="fa fa-check"></i><b>8.1.3</b> The silhouette plot</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#heatmap"><i class="fa fa-check"></i><b>8.2</b> Heatmap</a></li>
<li class="chapter" data-level="8.3" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#principal-component-analysis"><i class="fa fa-check"></i><b>8.3</b> Principal Component Analysis</a></li>
<li class="chapter" data-level="8.4" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#classification-and-regression-trees"><i class="fa fa-check"></i><b>8.4</b> Classification And Regression Trees</a></li>
<li class="chapter" data-level="8.5" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#composite-indicators"><i class="fa fa-check"></i><b>8.5</b> Composite Indicators</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#mazziotta-pareto-index"><i class="fa fa-check"></i><b>8.5.1</b> Mazziotta-Pareto Index</a></li>
<li class="chapter" data-level="8.5.2" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#adjusted-mazziotta-pareto-index"><i class="fa fa-check"></i><b>8.5.2</b> Adjusted Mazziotta-Pareto Index</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#exercises-5"><i class="fa fa-check"></i><b>8.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="final-remarks.html"><a href="final-remarks.html"><i class="fa fa-check"></i>Final Remarks</a></li>
<li class="chapter" data-level="" data-path="bibliography.html"><a href="bibliography.html"><i class="fa fa-check"></i>Bibliography</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Data Analysis with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="a-b-c" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> A, B, C<a href="a-b-c.html#a-b-c" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p> </p>
<p> </p>
<p> </p>
<div id="the-first-code" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> The first code<a href="a-b-c.html#the-first-code" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can start exploring the big potential of R by typing some small basic
mathematical operations. My suggestion is to always work on a source
file<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> and run your commands line by line using the “Run” button (or
Control+Enter on Windows, Command+Enter on Mac).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="a-b-c.html#cb1-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb1-2"><a href="a-b-c.html#cb1-2" tabindex="-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">5</span></span></code></pre></div>
<p>Now we can create some “objects”. This means storing numbers or series
of numbers within the memory of our computer (the Environment), and we
will be able to use these objects for our analysis. We can also create a
vector by assigning more than one value to an object. For this purpose,
we will need to use the combine function <code>c()</code> and put between the
parentheses all the values separated by a comma. If what we want to
create is a vector comprising an ordered series of integer numbers,
there is a shortcut: we can use the colon symbol between the starting
and the ending numbers. We can also do operations between values and
objects. <strong>Remember that if we assign to the same object another
content, we will loose the original one. In R there is no “undo”
button.</strong></p>
<p>Below we can see the syntax used for this scope. As you can see, within
the code there are some comments. Comments are a great tool to allow us
to understand what the code stands for, and let people (and us)
understand it better. By placing one (or more) hashtag (#) within the
code, we will transform the whole line into a comment and R will skip
that line from running.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="a-b-c.html#cb2-1" tabindex="-1"></a><span class="co"># = and &lt;- are the same, but I prefer &lt;- </span></span>
<span id="cb2-2"><a href="a-b-c.html#cb2-2" tabindex="-1"></a>x <span class="ot">=</span> <span class="dv">3</span></span>
<span id="cb2-3"><a href="a-b-c.html#cb2-3" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb2-4"><a href="a-b-c.html#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="a-b-c.html#cb2-5" tabindex="-1"></a><span class="co"># with the == sign you ask R if a condition is true</span></span>
<span id="cb2-6"><a href="a-b-c.html#cb2-6" tabindex="-1"></a>x <span class="sc">==</span> <span class="dv">7</span></span>
<span id="cb2-7"><a href="a-b-c.html#cb2-7" tabindex="-1"></a></span>
<span id="cb2-8"><a href="a-b-c.html#cb2-8" tabindex="-1"></a><span class="co"># single value assignment</span></span>
<span id="cb2-9"><a href="a-b-c.html#cb2-9" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;hello&quot;</span></span>
<span id="cb2-10"><a href="a-b-c.html#cb2-10" tabindex="-1"></a></span>
<span id="cb2-11"><a href="a-b-c.html#cb2-11" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="dv">5</span></span>
<span id="cb2-12"><a href="a-b-c.html#cb2-12" tabindex="-1"></a>x</span>
<span id="cb2-13"><a href="a-b-c.html#cb2-13" tabindex="-1"></a></span>
<span id="cb2-14"><a href="a-b-c.html#cb2-14" tabindex="-1"></a><span class="co"># vector assignment</span></span>
<span id="cb2-15"><a href="a-b-c.html#cb2-15" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb2-16"><a href="a-b-c.html#cb2-16" tabindex="-1"></a></span>
<span id="cb2-17"><a href="a-b-c.html#cb2-17" tabindex="-1"></a>y <span class="sc">==</span> <span class="dv">4</span></span>
<span id="cb2-18"><a href="a-b-c.html#cb2-18" tabindex="-1"></a></span>
<span id="cb2-19"><a href="a-b-c.html#cb2-19" tabindex="-1"></a><span class="co"># character vector</span></span>
<span id="cb2-20"><a href="a-b-c.html#cb2-20" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;how&quot;</span>, <span class="st">&quot;are you&quot;</span>, <span class="st">&quot;?&quot;</span>)</span>
<span id="cb2-21"><a href="a-b-c.html#cb2-21" tabindex="-1"></a>t</span>
<span id="cb2-22"><a href="a-b-c.html#cb2-22" tabindex="-1"></a></span>
<span id="cb2-23"><a href="a-b-c.html#cb2-23" tabindex="-1"></a><span class="co"># oredered integer series</span></span>
<span id="cb2-24"><a href="a-b-c.html#cb2-24" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<p>The notations <code>&lt;-</code> and <code>=</code> are equivalent in assigning values to an
object, however my suggestion is to always use the former to assign
values, in order to avoid confusion with the equal sign. As you can see,
when we store something in the Environment, R is not showing it to us.
We will need to “call” it in order to see what is inside that object.</p>
<p>Read the code below by yourself, and guess the result before running the
code.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="a-b-c.html#cb3-1" tabindex="-1"></a><span class="co"># operations</span></span>
<span id="cb3-2"><a href="a-b-c.html#cb3-2" tabindex="-1"></a>x <span class="sc">*</span> <span class="dv">5</span></span>
<span id="cb3-3"><a href="a-b-c.html#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="a-b-c.html#cb3-4" tabindex="-1"></a><span class="co"># what will happen here?</span></span>
<span id="cb3-5"><a href="a-b-c.html#cb3-5" tabindex="-1"></a>x <span class="sc">*</span> y</span>
<span id="cb3-6"><a href="a-b-c.html#cb3-6" tabindex="-1"></a>x <span class="sc">-</span> y</span>
<span id="cb3-7"><a href="a-b-c.html#cb3-7" tabindex="-1"></a>y <span class="sc">-</span> x</span></code></pre></div>
<p> </p>
<p> </p>
<p> </p>
</div>
<div id="indexing" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Indexing<a href="a-b-c.html#indexing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The indexing system allows us to select a specific part of our data. To
do so, we need to first call the name of the object we want to search
(<code>y</code>), and then put the searching instruction between squared
parenthesis <code>[ ]</code> right after. For example, selecting the first, second
and fourth value <code>y[c(1,2,4)]</code>; or all the values bigger than 3
<code>y[y&gt;3]</code>, or we can give multiple conditions together <code>y[y&lt;3 &amp; y&gt;10]</code>,
and so on. Another common and useful instruction is to select all the
values in one object <span class="math inline">\(y\)</span> that are present in another object <span class="math inline">\(z\)</span>
<code>y[y %in% z]</code>.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<p>Try the following code by yourself and guess the result before running
it.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="a-b-c.html#cb4-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">30</span><span class="sc">:</span><span class="dv">70</span>)</span>
<span id="cb4-2"><a href="a-b-c.html#cb4-2" tabindex="-1"></a><span class="co"># partial selection</span></span>
<span id="cb4-3"><a href="a-b-c.html#cb4-3" tabindex="-1"></a>y[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">15</span>)]</span>
<span id="cb4-4"><a href="a-b-c.html#cb4-4" tabindex="-1"></a>y[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>)]</span>
<span id="cb4-5"><a href="a-b-c.html#cb4-5" tabindex="-1"></a>z <span class="ot">&lt;-</span> y[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb4-6"><a href="a-b-c.html#cb4-6" tabindex="-1"></a><span class="co"># subtractive selection</span></span>
<span id="cb4-7"><a href="a-b-c.html#cb4-7" tabindex="-1"></a>y[<span class="sc">-</span><span class="dv">4</span>]</span>
<span id="cb4-8"><a href="a-b-c.html#cb4-8" tabindex="-1"></a>y[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>)]</span>
<span id="cb4-9"><a href="a-b-c.html#cb4-9" tabindex="-1"></a></span>
<span id="cb4-10"><a href="a-b-c.html#cb4-10" tabindex="-1"></a><span class="co"># assigning values only to a subset of observations</span></span>
<span id="cb4-11"><a href="a-b-c.html#cb4-11" tabindex="-1"></a>y[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">15</span>)] <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb4-12"><a href="a-b-c.html#cb4-12" tabindex="-1"></a>y</span>
<span id="cb4-13"><a href="a-b-c.html#cb4-13" tabindex="-1"></a></span>
<span id="cb4-14"><a href="a-b-c.html#cb4-14" tabindex="-1"></a><span class="co"># equality selection</span></span>
<span id="cb4-15"><a href="a-b-c.html#cb4-15" tabindex="-1"></a>y[y<span class="sc">==</span><span class="dv">3</span>]</span>
<span id="cb4-16"><a href="a-b-c.html#cb4-16" tabindex="-1"></a>y[y<span class="sc">==</span><span class="dv">3</span> <span class="sc">&amp;</span> y<span class="sc">==</span><span class="dv">45</span>]</span>
<span id="cb4-17"><a href="a-b-c.html#cb4-17" tabindex="-1"></a>y[y<span class="sc">==</span><span class="dv">3</span> <span class="sc">|</span> y<span class="sc">==</span><span class="dv">45</span>]</span>
<span id="cb4-18"><a href="a-b-c.html#cb4-18" tabindex="-1"></a></span>
<span id="cb4-19"><a href="a-b-c.html#cb4-19" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">30</span><span class="sc">:</span><span class="dv">50</span>)</span>
<span id="cb4-20"><a href="a-b-c.html#cb4-20" tabindex="-1"></a>y[y <span class="sc">%in%</span> z]</span></code></pre></div>
<p>I recognize that the indexing system is not immediate and may result
confusing to the majority. My suggestion is to exercise a lot with it.
Don’t be shy in creating objects of all sorts and select whatever you
want. Later in this chapter and in <a href="advanced-data-manipulation-and-plotting.html#advanced-data-manipulation-and-plotting">Advanced Data Manipulation and
Plotting</a> we will see two more friendly methods for sub-setting (the
<code>subset()</code> function and the package <code>dplyr</code>), but, please, <strong>do not
underestimate the power of the indexing system</strong>.</p>
<p>Now that we master numeric vectors, is time to learn that R is able to
manage many different types of data. More precisely a vector can be:
<em>character</em>, <em>numeric</em> (real or decimal), <em>integer</em>, <em>logical</em>, or
<em>complex</em>. The most used vectors are however, <em>character</em> (like the one
called <em>t</em> in our first code chunk), <em>numeric</em> and <em>logical</em> (TRUE or
FALSE). Another interesting type is the <em>factor</em> vector, but we will see
it in action in <a href="data-cleaning.html#data-cleaning">Data Cleaning</a>. <strong>Be aware that if a vector is composed
by both characters and numbers, it will be considered automatically as a
character vector! And this applies also if our numbers have a comma
instead of a dot before decimals!</strong></p>
<p> </p>
<p> 
 </p>
</div>
<div id="the-first-function" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> The first function<a href="a-b-c.html#the-first-function" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The first R function of our life is the mean. Before running it I
suggest to explore the Help documentation for this function by typing in
the console <code>?mean</code>. Within the help page, that will appear in the right
side of our work-space, we will find all the instructions for how to use
the function. Those “options” specified within the normal parenthesis
<code>()</code> are called the arguments. Some of them have a default value and
some others are, instead needed in order to run the function. In this
case only <code>x</code> is needed: the object of which we want to compute the
mean. The help provides an exhaustive explanation of how each function
works, plus it cites some references and examples. Most importantly, the
help will be available for any function or package, and, in 99% of the
cases, it will provide you with all the above mentioned information.</p>
<p>Functions works by calling them (be aware that R is case sensitive) and
putting between normal parenthesis the required arguments.</p>
<p>Try the following code by yourself and try to guess the result.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="a-b-c.html#cb5-1" tabindex="-1"></a><span class="fu">mean</span>(y)</span>
<span id="cb5-2"><a href="a-b-c.html#cb5-2" tabindex="-1"></a><span class="fu">mean</span>(z)</span>
<span id="cb5-3"><a href="a-b-c.html#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="a-b-c.html#cb5-4" tabindex="-1"></a><span class="co"># what will happen here?</span></span>
<span id="cb5-5"><a href="a-b-c.html#cb5-5" tabindex="-1"></a><span class="fu">mean</span>(y[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>])</span>
<span id="cb5-6"><a href="a-b-c.html#cb5-6" tabindex="-1"></a></span>
<span id="cb5-7"><a href="a-b-c.html#cb5-7" tabindex="-1"></a><span class="co"># calculate the mean manually</span></span>
<span id="cb5-8"><a href="a-b-c.html#cb5-8" tabindex="-1"></a><span class="fu">sum</span>(y)<span class="sc">/</span><span class="fu">length</span>(y)</span>
<span id="cb5-9"><a href="a-b-c.html#cb5-9" tabindex="-1"></a></span>
<span id="cb5-10"><a href="a-b-c.html#cb5-10" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="cn">NA</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">30</span>, <span class="cn">NA</span>)</span>
<span id="cb5-11"><a href="a-b-c.html#cb5-11" tabindex="-1"></a><span class="fu">mean</span>(p)</span>
<span id="cb5-12"><a href="a-b-c.html#cb5-12" tabindex="-1"></a><span class="co"># why is it NA?</span></span>
<span id="cb5-13"><a href="a-b-c.html#cb5-13" tabindex="-1"></a></span>
<span id="cb5-14"><a href="a-b-c.html#cb5-14" tabindex="-1"></a><span class="fu">mean</span>(p, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-15"><a href="a-b-c.html#cb5-15" tabindex="-1"></a><span class="co"># check in the help what na.rm does!</span></span>
<span id="cb5-16"><a href="a-b-c.html#cb5-16" tabindex="-1"></a><span class="fu">mean</span>(p[<span class="sc">!</span><span class="fu">is.na</span>(p)])</span>
<span id="cb5-17"><a href="a-b-c.html#cb5-17" tabindex="-1"></a></span>
<span id="cb5-18"><a href="a-b-c.html#cb5-18" tabindex="-1"></a><span class="co"># we can see how many values p has, and how many of them are NA (Please note that </span></span>
<span id="cb5-19"><a href="a-b-c.html#cb5-19" tabindex="-1"></a><span class="co"># for NA we do not use the normal equality expressions)</span></span>
<span id="cb5-20"><a href="a-b-c.html#cb5-20" tabindex="-1"></a><span class="fu">length</span>(p)</span>
<span id="cb5-21"><a href="a-b-c.html#cb5-21" tabindex="-1"></a><span class="fu">length</span>(p[<span class="fu">is.na</span>(p)])</span>
<span id="cb5-22"><a href="a-b-c.html#cb5-22" tabindex="-1"></a></span>
<span id="cb5-23"><a href="a-b-c.html#cb5-23" tabindex="-1"></a><span class="co"># the function class tells us which is the type of data in the vector</span></span>
<span id="cb5-24"><a href="a-b-c.html#cb5-24" tabindex="-1"></a><span class="fu">class</span>(y)</span>
<span id="cb5-25"><a href="a-b-c.html#cb5-25" tabindex="-1"></a><span class="fu">class</span>(t)</span></code></pre></div>
<p>What happens when we have to compute the mean of a vector with some
missing observations (NA)? Missing observations are not zeros, so the
sum cannot be computed. For this reason, if we add the <code>na.rm=TRUE</code>
argument to our mean function, R strips the missing observations before
applying the function, and gives us a result. <strong>Be aware that by
stripping the missing observation, the vector will have a smaller
length, this, may have some implications if we want the per-capita
average for example.</strong></p>
<p> </p>
<p> 
 </p>
</div>
<div id="dataset-exploration" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Dataset Exploration<a href="a-b-c.html#dataset-exploration" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A dataset is a matrix <span class="math inline">\(r*c\)</span>, with <span class="math inline">\(r\)</span> rows representing the observations
and <span class="math inline">\(c\)</span> columns representing the variables. In other words, a dataset is
composed by <span class="math inline">\(r\)</span> horizontal vectors, or <span class="math inline">\(c\)</span> longitudinal vectors. Having
this in mind, we can now load a dataset and start exploring its
dimensions.</p>
<p>For this scope we will use a dataset embedded into R that is called
<code>mtcars</code>. In order to better understand what <code>mtcars</code> refers to, type
<code>?mtcars</code> in the Console and read carefully what the help says about it.</p>
<p>I know that working with data about car design and performances
belonging to 1973 is not your favorite hobby, but this R dataset is
cleaned, ready to use, and has an amazing documentation attached, so
perfect for our learning purposes.</p>
<p>The following code presents us some exploratory activities that should
be carried out when we get our hands on some new data in order to
understand its shape.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="a-b-c.html#cb6-1" tabindex="-1"></a><span class="co"># loading an internal dataset</span></span>
<span id="cb6-2"><a href="a-b-c.html#cb6-2" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;mtcars&quot;</span>)</span>
<span id="cb6-3"><a href="a-b-c.html#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="a-b-c.html#cb6-4" tabindex="-1"></a><span class="co"># structure of the dataset</span></span>
<span id="cb6-5"><a href="a-b-c.html#cb6-5" tabindex="-1"></a><span class="fu">str</span>(mtcars)</span>
<span id="cb6-6"><a href="a-b-c.html#cb6-6" tabindex="-1"></a></span>
<span id="cb6-7"><a href="a-b-c.html#cb6-7" tabindex="-1"></a><span class="co"># visualizing the first 6 rows and the last 6</span></span>
<span id="cb6-8"><a href="a-b-c.html#cb6-8" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span>
<span id="cb6-9"><a href="a-b-c.html#cb6-9" tabindex="-1"></a><span class="fu">tail</span>(mtcars)</span>
<span id="cb6-10"><a href="a-b-c.html#cb6-10" tabindex="-1"></a></span>
<span id="cb6-11"><a href="a-b-c.html#cb6-11" tabindex="-1"></a><span class="co"># variables names</span></span>
<span id="cb6-12"><a href="a-b-c.html#cb6-12" tabindex="-1"></a><span class="fu">colnames</span>(mtcars)</span>
<span id="cb6-13"><a href="a-b-c.html#cb6-13" tabindex="-1"></a></span>
<span id="cb6-14"><a href="a-b-c.html#cb6-14" tabindex="-1"></a><span class="co"># number of rows and number of columns</span></span>
<span id="cb6-15"><a href="a-b-c.html#cb6-15" tabindex="-1"></a><span class="fu">nrow</span>(mtcars)</span>
<span id="cb6-16"><a href="a-b-c.html#cb6-16" tabindex="-1"></a><span class="fu">ncol</span>(mtcars)</span>
<span id="cb6-17"><a href="a-b-c.html#cb6-17" tabindex="-1"></a><span class="fu">dim</span>(mtcars)</span></code></pre></div>
<p>We first explore the internal structure of the dataset (<code>str(mtcars)</code>),
meaning: which kind of dataset it is (yes, there are multiple types),
the number of observations (rows) and variables (columns), and the name
and type of each variable with a small preview. A dataset could be a
“matrix”, a “data frame”, a “thible”, etc… I will not go through the
details of each type of dataset, my suggestion is to always use a data
frame, as this is one of the most flexible and complete form of
bi-dimensional data. In order to convert to data frame whatever kind of
dataset, use the <code>as.data.frame()</code> function.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></p>
<p>Another important skill to acquire is the capability to create a dataset
from zero. Again, there exist millions of ways to do it. Below some
examples to create the same dataset.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="a-b-c.html#cb7-1" tabindex="-1"></a><span class="co"># by specifying it columnwise</span></span>
<span id="cb7-2"><a href="a-b-c.html#cb7-2" tabindex="-1"></a>people <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="fu">c</span>(<span class="st">&quot;Mary&quot;</span>, <span class="st">&quot;Mike&quot;</span>, <span class="st">&quot;Greg&quot;</span>),</span>
<span id="cb7-3"><a href="a-b-c.html#cb7-3" tabindex="-1"></a>                     <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">44</span>, <span class="dv">52</span>, <span class="dv">46</span>),</span>
<span id="cb7-4"><a href="a-b-c.html#cb7-4" tabindex="-1"></a>                     <span class="at">IQ =</span> <span class="fu">c</span>(<span class="dv">160</span>, <span class="dv">95</span>, <span class="dv">110</span>))</span>
<span id="cb7-5"><a href="a-b-c.html#cb7-5" tabindex="-1"></a></span>
<span id="cb7-6"><a href="a-b-c.html#cb7-6" tabindex="-1"></a><span class="co"># by creating some vectors and then binding them togheter column-wise</span></span>
<span id="cb7-7"><a href="a-b-c.html#cb7-7" tabindex="-1"></a>name <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Mary&quot;</span>, <span class="st">&quot;Mike&quot;</span>, <span class="st">&quot;Greg&quot;</span>)</span>
<span id="cb7-8"><a href="a-b-c.html#cb7-8" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">44</span>, <span class="dv">52</span>, <span class="dv">46</span>)</span>
<span id="cb7-9"><a href="a-b-c.html#cb7-9" tabindex="-1"></a>IQ <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">160</span>, <span class="dv">95</span>, <span class="dv">110</span>)</span>
<span id="cb7-10"><a href="a-b-c.html#cb7-10" tabindex="-1"></a>people2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">cbind</span>(name, age, IQ))</span></code></pre></div>
<p> </p>
<p> </p>
<p> </p>
</div>
<div id="subsetting" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Subsetting<a href="a-b-c.html#subsetting" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that we can create complex objects, we need to be able to “destroy”
them, meaning split them into subsets according to some interesting
characteristics <span class="citation">(<a href="#ref-james2021">James et al. 2021</a>)</span>. Sub-setting is the heart of data
manipulation and the basis for data analysis. Via subsetting I can
analyze the data of only one group of observations within my dataset
according to some interesting characteristics we define. As an example,
the consumption (mpg) of manual cars vs automatic cars.</p>
<p>To do so, we will use the same indexing expressions we used in the
<a href="a-b-c.html#indexing">Indexing</a> chapter, but this time we will have to specify two dimensions
(rows and columns) separated by a comma within the squared brackets
<code>[rows,columns]</code>. <strong>Remember that if we do not specify either rows or
columns, R will consider the whole set of the corresponding dimension.</strong></p>
<p>Explore the code below. Use the <code>str()</code> function, specifying the new
object created in each line of code, in order to understand what
happened.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="a-b-c.html#cb8-1" tabindex="-1"></a><span class="co"># to subset we use [rows,columns]</span></span>
<span id="cb8-2"><a href="a-b-c.html#cb8-2" tabindex="-1"></a>a <span class="ot">&lt;-</span> mtcars[<span class="dv">2</span>, <span class="dv">5</span>]</span>
<span id="cb8-3"><a href="a-b-c.html#cb8-3" tabindex="-1"></a><span class="fu">str</span>(a)</span>
<span id="cb8-4"><a href="a-b-c.html#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="a-b-c.html#cb8-5" tabindex="-1"></a><span class="co"># what will happen here?</span></span>
<span id="cb8-6"><a href="a-b-c.html#cb8-6" tabindex="-1"></a>b <span class="ot">&lt;-</span> mtcars[<span class="dv">3</span>,]</span>
<span id="cb8-7"><a href="a-b-c.html#cb8-7" tabindex="-1"></a><span class="fu">str</span>(b)</span>
<span id="cb8-8"><a href="a-b-c.html#cb8-8" tabindex="-1"></a></span>
<span id="cb8-9"><a href="a-b-c.html#cb8-9" tabindex="-1"></a><span class="co"># and here?</span></span>
<span id="cb8-10"><a href="a-b-c.html#cb8-10" tabindex="-1"></a>c <span class="ot">&lt;-</span> mtcars[,<span class="dv">3</span>]</span>
<span id="cb8-11"><a href="a-b-c.html#cb8-11" tabindex="-1"></a><span class="fu">str</span>(c)</span>
<span id="cb8-12"><a href="a-b-c.html#cb8-12" tabindex="-1"></a></span>
<span id="cb8-13"><a href="a-b-c.html#cb8-13" tabindex="-1"></a><span class="co"># we want to see the first 5 rows and the column from 3 to 8</span></span>
<span id="cb8-14"><a href="a-b-c.html#cb8-14" tabindex="-1"></a>mtcars[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">8</span>]</span></code></pre></div>
<p>If we want to subset one single column from a dataset we can use the $
sign.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> This opens up opportunities for specifying some peculiar
characteristics that we want to retain in our dataset.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="a-b-c.html#cb9-1" tabindex="-1"></a><span class="co"># to call a singe variable we use the $ sign</span></span>
<span id="cb9-2"><a href="a-b-c.html#cb9-2" tabindex="-1"></a>mtcars<span class="sc">$</span>cyl</span>
<span id="cb9-3"><a href="a-b-c.html#cb9-3" tabindex="-1"></a><span class="co"># it is the same as</span></span>
<span id="cb9-4"><a href="a-b-c.html#cb9-4" tabindex="-1"></a>mtcars[,<span class="dv">2</span>]</span>
<span id="cb9-5"><a href="a-b-c.html#cb9-5" tabindex="-1"></a></span>
<span id="cb9-6"><a href="a-b-c.html#cb9-6" tabindex="-1"></a><span class="co"># equality subsetting: we want all the data of the cars with 4 cylinders</span></span>
<span id="cb9-7"><a href="a-b-c.html#cb9-7" tabindex="-1"></a>mtcars[mtcars<span class="sc">$</span>cyl <span class="sc">==</span> <span class="dv">4</span>,]</span>
<span id="cb9-8"><a href="a-b-c.html#cb9-8" tabindex="-1"></a></span>
<span id="cb9-9"><a href="a-b-c.html#cb9-9" tabindex="-1"></a><span class="co"># we want the values of the firt clumn (mpg) of cars with 4 cylinders</span></span>
<span id="cb9-10"><a href="a-b-c.html#cb9-10" tabindex="-1"></a>mtcars[mtcars<span class="sc">$</span>cyl <span class="sc">==</span> <span class="dv">4</span>, <span class="dv">1</span>]</span>
<span id="cb9-11"><a href="a-b-c.html#cb9-11" tabindex="-1"></a><span class="co"># it is the same as</span></span>
<span id="cb9-12"><a href="a-b-c.html#cb9-12" tabindex="-1"></a>mtcars<span class="sc">$</span>mpg[mtcars<span class="sc">$</span>cyl <span class="sc">==</span> <span class="dv">4</span>] <span class="co"># I prefer this</span></span>
<span id="cb9-13"><a href="a-b-c.html#cb9-13" tabindex="-1"></a></span>
<span id="cb9-14"><a href="a-b-c.html#cb9-14" tabindex="-1"></a><span class="co"># subsetting consumption per type of transmission</span></span>
<span id="cb9-15"><a href="a-b-c.html#cb9-15" tabindex="-1"></a><span class="co"># automatic cars</span></span>
<span id="cb9-16"><a href="a-b-c.html#cb9-16" tabindex="-1"></a>mpg.at <span class="ot">&lt;-</span> mtcars<span class="sc">$</span>mpg[mtcars<span class="sc">$</span>am <span class="sc">==</span> <span class="dv">0</span>]</span>
<span id="cb9-17"><a href="a-b-c.html#cb9-17" tabindex="-1"></a><span class="co"># manual cars</span></span>
<span id="cb9-18"><a href="a-b-c.html#cb9-18" tabindex="-1"></a>mpg.mt <span class="ot">&lt;-</span> mtcars<span class="sc">$</span>mpg[mtcars<span class="sc">$</span>am <span class="sc">==</span> <span class="dv">1</span>]</span></code></pre></div>
<p>There is also an easier (more discursive) way: the <code>subset()</code> function.
This function takes 3 arguments: the data frame we want subsetted, the
rows corresponding to the condition by which we want it subsetted, and
the columns we want returned. The argument <code>drop=TRUE</code> allows us to drop
the row names and have a vector as final output. Of course we can input
multiple conditions and select multiple columns.</p>
<p>The code below leads to the same result as in the last lines of the
previous code chunk.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="a-b-c.html#cb10-1" tabindex="-1"></a><span class="co"># subsetting consumption per type of transmission</span></span>
<span id="cb10-2"><a href="a-b-c.html#cb10-2" tabindex="-1"></a>mpg.at2 <span class="ot">&lt;-</span> <span class="fu">subset</span>(mtcars, am <span class="sc">==</span> <span class="dv">0</span>, <span class="at">select =</span> <span class="st">&quot;mpg&quot;</span>, <span class="at">drop=</span><span class="cn">TRUE</span>)</span>
<span id="cb10-3"><a href="a-b-c.html#cb10-3" tabindex="-1"></a>mpg.mt2 <span class="ot">&lt;-</span> <span class="fu">subset</span>(mtcars, am <span class="sc">==</span> <span class="dv">1</span>, <span class="at">select =</span> <span class="st">&quot;mpg&quot;</span>, <span class="at">drop=</span><span class="cn">TRUE</span>)</span>
<span id="cb10-4"><a href="a-b-c.html#cb10-4" tabindex="-1"></a></span>
<span id="cb10-5"><a href="a-b-c.html#cb10-5" tabindex="-1"></a><span class="co"># multiple conditions and columns</span></span>
<span id="cb10-6"><a href="a-b-c.html#cb10-6" tabindex="-1"></a>mix <span class="ot">&lt;-</span> <span class="fu">subset</span>(mtcars, am<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> cyl<span class="sc">==</span><span class="dv">4</span>, <span class="at">select=</span><span class="fu">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;hp&quot;</span>))</span></code></pre></div>
<p> </p>
<p> </p>
<p> </p>
</div>
<div id="importing-and-exporting-data" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Importing and exporting data<a href="a-b-c.html#importing-and-exporting-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Of course none expects us to work only with internal datasets, nor to
keep the data only on our computer, so we need to know how to import and
export files containing data. While R is a super powerful tool for
cleaning the data, it is important that the data we import follow at
least the basic rule of one observation per row and one variable per
column (meaning that there cannot be variables such as: “income2021”,
“income2020”, etc; but one column for the years and one for the income).
More rules on how to clean the data are available in <a href="data-cleaning.html#data-cleaning">Data Cleaning</a>.</p>
<p>The first thing to do when working with external files is to set the
working directory within the code (finction <code>setwd()</code>). This will tell R
where to look for files and where to put the new ones. Imaging that we
will have to share our code with someone else, that person will have
only to change the working directory path before running our code
successfully.</p>
<p>In order to import external data into R, we should go to File -&gt; Import
Dataset and select the format of the dataset to import. R can read by
itself the most common data formats (text based like csv or txt, Excel,
Stata, SAS, SPSS)<span class="citation">(<a href="#ref-wickham2022">Wickham and Bryan 2022</a>)</span>, but through the use of packages we can
extend its importing capacity to spacial data, or other formats . After
having selected the appropriate format, a new window will appear asking
to select the file and set the options you need in order to have it read
properly. Finally, my suggestion is to copy the code that will appear in
the Console and paste it to the Source. This way we will be able to
reload the file anytime without losing time into windows and clicks.</p>
<p>We have seen in the <a href="installation.html#installation">Installation</a> chapter how to install packages,
however, in order to avoid overloading our computers, R activates only a
small set of default packages when we open it. This means that before
using any content (function, data, object) of an additional package, we
need to activate it using the function <code>library()</code>. Once the package has
been activated, it will remain active for the whole session of work, so
there is no need to call it again.</p>
<p>During my teaching career, I have seen many students having a huge list
of packages called at the beginning of their code (most of them useless
for their purposes). This method allowed them to avoid remembering what
was the purpose of each package, but also overcharged their computers
and often leaded to software crashes and data losses. So, please, avoid
it!</p>
<p>Download the <a href="http://www.federicoroscioli.com/wp-content/uploads/2021/02/Wine.csv">wine dataset</a>, change the directory below with the folder where you put the downloaded
file, and try to import it (it is a text based csv file). Try the same with the <a href="http://www.federicoroscioli.com/wp-content/uploads/2022/03/Village.xlsx">village dataset</a>, be aware that this one is in Excel format.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="a-b-c.html#cb11-1" tabindex="-1"></a><span class="co"># setting the working directory</span></span>
<span id="cb11-2"><a href="a-b-c.html#cb11-2" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/Users/federicoroscioli/Desktop&quot;</span>)</span>
<span id="cb11-3"><a href="a-b-c.html#cb11-3" tabindex="-1"></a><span class="co"># or setting the working directory as the same where the Source file is stored</span></span>
<span id="cb11-4"><a href="a-b-c.html#cb11-4" tabindex="-1"></a><span class="fu">setwd</span>(<span class="fu">dirname</span>(rstudioapi<span class="sc">::</span><span class="fu">getActiveDocumentContext</span>()<span class="sc">$</span>path))</span>
<span id="cb11-5"><a href="a-b-c.html#cb11-5" tabindex="-1"></a></span>
<span id="cb11-6"><a href="a-b-c.html#cb11-6" tabindex="-1"></a><span class="co"># for text based datasets (csv)</span></span>
<span id="cb11-7"><a href="a-b-c.html#cb11-7" tabindex="-1"></a>wine <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;Wine.csv&quot;</span>)</span>
<span id="cb11-8"><a href="a-b-c.html#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="a-b-c.html#cb11-9" tabindex="-1"></a><span class="co"># for excel datasets you need the readxl package</span></span>
<span id="cb11-10"><a href="a-b-c.html#cb11-10" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb11-11"><a href="a-b-c.html#cb11-11" tabindex="-1"></a>village <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Village.xlsx&quot;</span>)</span></code></pre></div>
<p>To end our first chapter we have to talk also about how to save the
final output of our work. The most common way is to export our dataframe
as an excel file. In order to do so, we need to use the package
“xlsx” <span class="citation">(<a href="#ref-dragulescu2020">Dragulescu and Arendt 2020</a>)</span>. <strong>Note that it is always important to set the
working directory in order to tell R where to put our exported file</strong>.
If we did it at the beginning of our code, there is no need to repeat
it.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="a-b-c.html#cb12-1" tabindex="-1"></a><span class="co"># exporting to excel</span></span>
<span id="cb12-2"><a href="a-b-c.html#cb12-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;xlsx&quot;</span>)</span>
<span id="cb12-3"><a href="a-b-c.html#cb12-3" tabindex="-1"></a><span class="fu">write.xlsx</span>(mtcars, <span class="at">file =</span> <span class="st">&quot;mtcars.xlsx&quot;</span>)</span>
<span id="cb12-4"><a href="a-b-c.html#cb12-4" tabindex="-1"></a></span>
<span id="cb12-5"><a href="a-b-c.html#cb12-5" tabindex="-1"></a><span class="co"># exporting to csv</span></span>
<span id="cb12-6"><a href="a-b-c.html#cb12-6" tabindex="-1"></a><span class="fu">write.csv</span>(mtcars, <span class="at">file =</span> <span class="st">&quot;mtcars.csv&quot;</span>)</span></code></pre></div>
<p> </p>
<p> </p>
<p> </p>
</div>
<div id="exercises" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Exercises<a href="a-b-c.html#exercises" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>James, G., Witten, D., Hastie, T., &amp; Tibshirani, R. (2021). An
Introduction to Statistical Learning (Vol. 103). Springer New York.
<a href="https://www.statlearning.com">Available here</a>. Chapter 2.4 exercises 8, 9, and 10.</li>
<li><a href="https://federicoroscioli.shinyapps.io/exercises/">R playground</a>, A, B, C</li>
</ul>
<div style="page-break-after: always;"></div>

</div>
</div>
<h3>Bibliography<a href="bibliography.html#bibliography" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-dragulescu2020" class="csl-entry">
Dragulescu, Adrian, and Cole Arendt. 2020. <span>“Package <span>‘Xlsx’</span>.”</span> <a href="https://cran.r-project.org/web/packages/xlsx/xlsx.pdf">https://cran.r-project.org/web/packages/xlsx/xlsx.pdf</a>.
</div>
<div id="ref-james2021" class="csl-entry">
James, Gareth, Daniela Witten, Trevor Hastie, and Robert Tibshirani. 2021. <em>An Introduction to Statistical Learning: With Applications in r</em>. Second edition. Springer Texts in Statistics. Springer.
</div>
<div id="ref-wickham2022" class="csl-entry">
Wickham, Hadley, and Jennifer Bryan. 2022. <span>“Readxl: Read Excel Files.”</span> <a href="https://readxl.tidyverse.org">https://readxl.tidyverse.org</a>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>If you don’t know what it means, please, review the <a href="installation.html#installation">Installation</a>
chapter.<a href="a-b-c.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>For a complete list of please check within the references of this
chapter.<a href="a-b-c.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>This is not applicable to mtcars, as it is already a data frame,
but we will see this function in action later on in the book.<a href="a-b-c.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>This is equivalent to subset using the index number corresponding
to the same column (see the code below).<a href="a-b-c.html#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="installation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-cleaning.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"toc_depth": 1,
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
